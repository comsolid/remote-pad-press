function SlideDeck(e){this.curSlide_=0,this.prevSlide_=0,this.config_=null,this.container=e||document.querySelector("slides"),this.slides=[],this.controller=null,this.getCurrentSlideFromHash_(),this.onDomLoaded_.bind(this)()}document.cancelFullScreen=document.webkitCancelFullScreen||document.mozCancelFullScreen,SlideDeck.prototype.SLIDE_CLASSES_=["far-past","past","current","next","far-next"],SlideDeck.prototype.CSS_DIR_="theme/css/",SlideDeck.prototype.getCurrentSlideFromHash_=function(){var e=parseInt(document.location.hash.substr(1));e?this.curSlide_=e-1:this.curSlide_=0},SlideDeck.prototype.loadSlide=function(e){e&&(this.curSlide_=e-1,this.updateSlides_())},SlideDeck.prototype.onDomLoaded_=function(e){document.body.classList.add("loaded"),this.slides=this.container.querySelectorAll("slide:not([hidden]):not(.hidden):not(.backdrop)"),Modernizr.mq("only screen and (max-device-width: 480px)")&&this.container.classList.remove("layout-widescreen"),this.loadConfig_(SLIDE_CONFIG),this.addEventListeners_(),this.updateSlides_();for(var t,i=this,s=0;t=this.slides[s];++s)t.dataset.slideNum=s+1,t.dataset.totalSlides=this.slides.length,t.addEventListener("click",function(e){document.body.classList.contains("overview")&&(i.loadSlide(this.dataset.slideNum),e.preventDefault(),window.setTimeout(function(){i.toggleOverview()},500))},!1);this.controller=new SlideController(this),this.controller.isPopup&&document.body.classList.add("popup")},SlideDeck.prototype.addEventListeners_=function(){document.addEventListener("keydown",this.onBodyKeyDown_.bind(this),!1),window.addEventListener("popstate",this.onPopState_.bind(this),!1)},SlideDeck.prototype.onPopState_=function(e){null!=e.state&&(this.curSlide_=e.state,this.updateSlides_(!0))},SlideDeck.prototype.onBodyKeyDown_=function(e){if(!/^(input|textarea)$/i.test(e.target.nodeName)&&!e.target.isContentEditable)switch(this.controller&&this.controller.isPopup&&this.controller.sendMsg({keyCode:e.keyCode}),e.keyCode){case 13:document.body.classList.contains("overview")&&this.toggleOverview();break;case 39:case 32:case 34:this.nextSlide(),e.preventDefault();break;case 37:case 8:case 33:this.prevSlide(),e.preventDefault();break;case 40:this.nextSlide(),e.preventDefault();break;case 38:this.prevSlide(),e.preventDefault();break;case 72:document.body.classList.toggle("highlight-code");break;case 79:this.toggleOverview();break;case 80:this.controller&&this.controller.isPopup?document.body.classList.toggle("with-notes"):this.controller&&!this.controller.popup&&document.body.classList.toggle("with-notes");break;case 82:break;case 27:document.body.classList.remove("with-notes"),document.body.classList.remove("highlight-code"),document.body.classList.contains("overview")&&this.toggleOverview();break;case 70:e.target!=document.body||e.shiftKey&&e.metaKey||(void 0===document.mozFullScreen||document.mozFullScreen?void 0===document.webkitIsFullScreen||document.webkitIsFullScreen?document.cancelFullScreen():document.body.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):document.body.mozRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT));break;case 87:e.target!=document.body||e.shiftKey&&e.metaKey||this.container.classList.toggle("layout-widescreen")}},SlideDeck.prototype.focusOverview_=function(){for(var e,t=document.body.classList.contains("overview"),i=0;e=this.slides[i];i++)e.style[Modernizr.prefixed("transform")]=t?"translateZ(-2500px) translate("+105*(i-this.curSlide_)+"%, 0%)":""},SlideDeck.prototype.toggleOverview=function(){document.body.classList.toggle("overview"),this.focusOverview_()},SlideDeck.prototype.loadConfig_=function(e){if(e){this.config_=e;var t=this.config_.settings;if(this.loadTheme_(t.theme||[]),t.favIcon&&this.addFavIcon_(t.favIcon),"usePrettify"in t&&!t.usePrettify||prettyPrint(),t.analytics&&this.loadAnalytics_(),t.fonts&&this.addFonts_(t.fonts),"useBuilds"in t&&!t.useBuilds||this.makeBuildLists_(),t.title&&(document.title=t.title.replace(/<br\/?>/," "),t.eventInfo&&t.eventInfo.title&&(document.title+=" - "+t.eventInfo.title),document.querySelector("[data-config-title]").innerHTML=t.title),t.subtitle&&(document.querySelector("[data-config-subtitle]").innerHTML=t.subtitle),this.config_.presenters){var i=this.config_.presenters,s=document.querySelector("[data-config-contact]"),o=[];if(1==i.length){var n=i[0],l=[n.name];n.company&&l.push(n.company),o=l.join(" - ")+"<br>";var r=n.gplus?'<span>g+</span><a href="'+n.gplus+'">'+n.gplus.replace(/https?:\/\//,"")+"</a>":"",a=n.twitter?'<span>twitter</span><a href="http://twitter.com/'+n.twitter+'">'+n.twitter+"</a>":"",d=n.www?'<span>www</span><a href="'+n.www+'">'+n.www.replace(/https?:\/\//,"")+"</a>":"",c=n.github?'<span>github</span><a href="'+n.github+'">'+n.github.replace(/https?:\/\//,"")+"</a>":"",u=[r,a,d,c].join("<br>");s&&(s.innerHTML=u)}else{for(var n,h=0;n=i[h];++h)o.push(n.name+" - "+n.company);o=o.join("<br>"),s&&(s.innerHTML=o)}var p=document.querySelector("[data-config-presenter]");if(p&&(p.innerHTML=o,t.eventInfo)){var m=t.eventInfo.date,v=m?" - <time>"+m+"</time>":"";p.innerHTML+=t.eventInfo.title+v}}if(!("enableSlideAreas"in t)||t.enableSlideAreas){var S=document.createElement("div");S.classList.add("slide-area"),S.id="prev-slide-area",S.addEventListener("click",this.prevSlide.bind(this),!1),this.container.appendChild(S);var S=document.createElement("div");S.classList.add("slide-area"),S.id="next-slide-area",S.addEventListener("click",this.nextSlide.bind(this),!1),this.container.appendChild(S)}if(Modernizr.touch&&(!("enableTouch"in t)||t.enableTouch)){var f=this;window.addEventListener("touchstart",function(e){e.preventDefault()},!1);var y=new Hammer(this.container);y.ondragend=function(e){"right"==e.direction||"down"==e.direction?f.prevSlide():"left"!=e.direction&&"up"!=e.direction||f.nextSlide()}}}},SlideDeck.prototype.addFonts_=function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=("https:"==document.location.protocol?"https":"http")+"://fonts.googleapis.com/css?family="+e.join("|")+"&v2",document.querySelector("head").appendChild(t)},SlideDeck.prototype.buildNextItem_=function(){var e=this.slides[this.curSlide_],t=e.querySelector(".to-build"),i=e.querySelector(".build-current");if(i&&(i.classList.remove("build-current"),i.classList.contains("fade")&&i.classList.add("build-fade")),!t){for(var s,o=e.querySelectorAll(".build-fade"),n=0;s=o[n];n++)s.classList.remove("build-fade");return!1}return t.classList.remove("to-build"),t.classList.add("build-current"),!0},SlideDeck.prototype.prevSlide=function(e){if(this.curSlide_>0){var t=document.body.classList;t.remove("highlight-code"),this.controller&&!this.controller.isPopup?t.remove("with-notes"):this.controller||t.remove("with-notes"),this.prevSlide_=this.curSlide_--,this.updateSlides_(e)}},SlideDeck.prototype.nextSlide=function(e){if((document.body.classList.contains("overview")||!this.buildNextItem_())&&this.curSlide_<this.slides.length-1){var t=document.body.classList;t.remove("highlight-code"),this.controller&&!this.controller.isPopup?t.remove("with-notes"):this.controller||t.remove("with-notes"),this.prevSlide_=this.curSlide_++,this.updateSlides_(e)}},SlideDeck.prototype.triggerSlideEvent=function(e,t){var i=this.getSlideEl_(t);if(i){var s=i.getAttribute(e);s&&new Function(s).call(i);var o=document.createEvent("Event");o.initEvent(e,!0,!0),o.slideNumber=t+1,o.slide=i,i.dispatchEvent(o)}},SlideDeck.prototype.updateSlides_=function(e){for(var t=e||!1,i=this.curSlide_,s=0;s<this.slides.length;++s)switch(s){case i-2:this.updateSlideClass_(s,"far-past");break;case i-1:this.updateSlideClass_(s,"past");break;case i:this.updateSlideClass_(s,"current");break;case i+1:this.updateSlideClass_(s,"next");break;case i+2:this.updateSlideClass_(s,"far-next");break;default:this.updateSlideClass_(s)}if(this.triggerSlideEvent("slideleave",this.prevSlide_),this.triggerSlideEvent("slideenter",i),this.enableSlideFrames_(i+1),window.setTimeout(this.enableSlideFrames_.bind(this,i+2),1e3),this.updateHash_(t),document.body.classList.contains("overview"))return void this.focusOverview_()},SlideDeck.prototype.enableSlideFrames_=function(e){var t=this.slides[e-1];if(t)for(var i,s=t.querySelectorAll("iframe"),o=0;i=s[o];o++)this.enableFrame_(i)},SlideDeck.prototype.enableFrame_=function(e){var t=e.dataset.src;t&&e.src!=t&&(e.src=t)},SlideDeck.prototype.disableSlideFrames_=function(e){var t=this.slides[e-1];if(t)for(var i,s=t.querySelectorAll("iframe"),o=0;i=s[o];o++)this.disableFrame_(i)},SlideDeck.prototype.disableFrame_=function(e){e.src="about:blank"},SlideDeck.prototype.getSlideEl_=function(e){return e<0||e>=this.slides.length?null:this.slides[e]},SlideDeck.prototype.updateSlideClass_=function(e,t){var i=this.getSlideEl_(e);if(i){t&&i.classList.add(t);for(var s,o=0;s=this.SLIDE_CLASSES_[o];++o)t!=s&&i.classList.remove(s)}},SlideDeck.prototype.makeBuildLists_=function(){for(var e,t=this.curSlide_;e=this.slides[t];++t)for(var i,s=e.querySelectorAll(".build > *"),o=0;i=s[o];++o)i.classList&&(i.classList.add("to-build"),i.parentNode.classList.contains("fade")&&i.classList.add("fade"))},SlideDeck.prototype.updateHash_=function(e){if(!e){var t=this.curSlide_+1,i="#"+t;window.history.pushState?window.history.pushState(this.curSlide_,"Slide "+t,i):window.location.replace(i),window._gaq&&window._gaq.push(["_trackPageview",document.location.href])}},SlideDeck.prototype.addFavIcon_=function(e){var t=document.createElement("link");t.rel="icon",t.type="image/png",t.href=e,document.querySelector("head").appendChild(t)},SlideDeck.prototype.loadTheme_=function(e){var t=[];"String"===e.constructor.name?t.push(e):t=e;for(var i,s=0;themeUrl=t[s];s++){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",themeUrl.indexOf("http")==-1?i.href=this.CSS_DIR_+themeUrl+".css":i.href=themeUrl,document.querySelector("head").appendChild(i)}},SlideDeck.prototype.loadAnalytics_=function(){var e=window._gaq||[];e.push(["_setAccount",this.config_.settings.analytics]),e.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},function(){Modernizr.load({test:!!document.body.classList&&!!document.body.dataset,nope:["js/polyfills/classList.min.js","js/polyfills/dataset.min.js"],complete:function(){window.slidedeck=new SlideDeck}})}();