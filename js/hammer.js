function Hammer(t,e,n){function o(t){return t.touches?t.touches.length:1}function r(t){if(t=t||window.event,t.touches){for(var e,n=[],o=0,r=t.touches.length;o<r;o++)e=t.touches[o],n.push({x:e.pageX,y:e.pageY});return n}var a=document,i=a.body;return[{x:t.pageX||t.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&a.clientLeft||0),y:t.pageY||t.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&a.clientTop||0)}]}function a(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}function i(t,e){e.touches=r(e.originalEvent),e.type=t,f(v["on"+t])&&v["on"+t].call(v,e)}function s(t){t=t||window.event,t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0)}function l(){E={},x=!1,y=0,_=0,b=0,L=null}function c(n){switch(n.type){case"mousedown":case"touchstart":E.start=r(n),M=(new Date).getTime(),y=o(n),x=!0,h=n;var a=t.getBoundingClientRect(),c=t.clientTop||document.body.clientTop||0,u=t.clientLeft||document.body.clientLeft||0,d=window.pageYOffset||t.scrollTop||document.body.scrollTop,f=window.pageXOffset||t.scrollLeft||document.body.scrollLeft;Y={top:a.top+d-c,left:a.left+f-u},C=!0,z.hold(n),e.prevent_default&&s(n);break;case"mousemove":case"touchmove":if(!C)return!1;p=n,E.move=r(n),z.transform(n)||z.drag(n);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!C||"transform"!=L&&n.touches&&n.touches.length>0)return!1;C=!1,g=n,"drag"==L?i("dragend",{originalEvent:n,direction:w,distance:_,angle:b}):"transform"==L?i("transformend",{originalEvent:n,position:E.center,scale:n.scale,rotation:n.rotation}):z.tap(h),T=L,l()}}function u(t,e){if(!e&&window.event&&window.event.toElement&&(e=window.event.toElement),t===e)return!0;if(e)for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}function d(t,e){var n={};if(!e)return t;for(var o in t)o in e?n[o]=e[o]:n[o]=t[o];return n}function f(t){return"[object Function]"==Object.prototype.toString.call(t)}var v=this,m={prevent_default:!1,css_hacks:!0,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_double_distance:20,hold:!0,hold_timeout:500};e=d(m,e),function(){if(!e.css_hacks)return!1;for(var n=["webkit","moz","ms","o",""],o={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},r="",a=0;a<n.length;a++)for(var i in o)r=i,n[a]&&(r=n[a]+r.substring(0,1).toUpperCase()+r.substring(1)),t.style[r]=o[i]}();var h,p,g,_=0,b=0,w=0,E={},y=0,x=!1,L=null,T=null,M=null,D={x:0,y:0},k=null,X=null,Y={},C=!1;this.getDirectionFromAngle=function(t){var e,n,o={down:t>=45&&t<135,left:t>=135||t<=-135,up:t<-45&&t>-135,right:t>=-45&&t<=45};for(n in o)if(o[n]){e=n;break}return e};var z={hold:function(t){e.hold&&(L="hold",clearTimeout(X),X=setTimeout(function(){"hold"==L&&i("hold",{originalEvent:t,position:E.start})},e.hold_timeout))},drag:function(t){var n=E.move[0].x-E.start[0].x,o=E.move[0].y-E.start[0].y;if(_=Math.sqrt(n*n+o*o),e.drag&&_>e.drag_min_distance||"drag"==L){b=a(E.start[0],E.move[0]),w=v.getDirectionFromAngle(b);var r="up"==w||"down"==w;if((r&&!e.drag_vertical||!r&&!e.drag_horizontal)&&_>e.drag_min_distance)return;L="drag";var l={x:E.move[0].x-Y.left,y:E.move[0].y-Y.top},c={originalEvent:t,position:l,direction:w,distance:_,distanceX:n,distanceY:o,angle:b};x&&(i("dragstart",c),x=!1),i("drag",c),s(t)}},transform:function(t){if(e.transform){var n=t.scale||1,r=t.rotation||0;if(2!=o(t))return!1;if("drag"!=L&&("transform"==L||Math.abs(1-n)>e.scale_treshold||Math.abs(r)>e.rotation_treshold)){L="transform",E.center={x:(E.move[0].x+E.move[1].x)/2-Y.left,y:(E.move[0].y+E.move[1].y)/2-Y.top};var a={originalEvent:t,position:E.center,scale:n,rotation:r};return x&&(i("transformstart",a),x=!1),i("transform",a),s(t),!0}}return!1},tap:function(t){var n=(new Date).getTime(),o=n-M;if(!e.hold||e.hold&&e.hold_timeout>o){var r=function(){if(D&&e.tap_double&&"tap"==T&&M-k<e.tap_max_interval){var t=Math.abs(D[0].x-E.start[0].x),n=Math.abs(D[0].y-E.start[0].y);return D&&E.start&&Math.max(t,n)<e.tap_double_distance}return!1}();r?(L="double_tap",k=null,i("doubletap",{originalEvent:t,position:E.start}),s(t)):(L="tap",k=n,D=E.start,e.tap&&(i("tap",{originalEvent:t,position:E.start}),s(t)))}}};"ontouchstart"in window?(t.addEventListener("touchstart",c,!1),t.addEventListener("touchmove",c,!1),t.addEventListener("touchend",c,!1),t.addEventListener("touchcancel",c,!1)):t.addEventListener?(t.addEventListener("mouseout",function(e){u(t,e.relatedTarget)||c(e)},!1),t.addEventListener("mouseup",c,!1),t.addEventListener("mousedown",c,!1),t.addEventListener("mousemove",c,!1)):document.attachEvent&&(t.attachEvent("onmouseout",function(e){u(t,e.relatedTarget)||c(e)},!1),t.attachEvent("onmouseup",c),t.attachEvent("onmousedown",c),t.attachEvent("onmousemove",c))}