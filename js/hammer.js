function Hammer(t,e,n){function o(t){return t.touches?t.touches.length:1}function r(t){if(t=t||window.event,t.touches){for(var e,n=[],o=0,r=t.touches.length;o<r;o++)e=t.touches[o],n.push({x:e.pageX,y:e.pageY});return n}var a=document,i=a.body;return[{x:t.pageX||t.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&a.clientLeft||0),y:t.pageY||t.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&a.clientTop||0)}]}function a(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}function i(t,e){e.touches=r(e.originalEvent),e.type=t,d(f["on"+t])&&f["on"+t].call(f,e)}function s(t){t=t||window.event,t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0)}function l(){w={},y=!1,E=0,g=0,_=0,x=null}function c(n){switch(n.type){case"mousedown":case"touchstart":w.start=r(n),T=(new Date).getTime(),E=o(n),y=!0,m=n;var a=t.getBoundingClientRect(),c=t.clientTop||document.body.clientTop||0,u=t.clientLeft||document.body.clientLeft||0,d=window.pageYOffset||t.scrollTop||document.body.scrollTop,f=window.pageXOffset||t.scrollLeft||document.body.scrollLeft;X={top:a.top+d-c,left:a.left+f-u},Y=!0,C.hold(n),e.prevent_default&&s(n);break;case"mousemove":case"touchmove":if(!Y)return!1;h=n,w.move=r(n),C.transform(n)||C.drag(n);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!Y||"transform"!=x&&n.touches&&n.touches.length>0)return!1;Y=!1,p=n,"drag"==x?i("dragend",{originalEvent:n,direction:b,distance:g,angle:_}):"transform"==x?i("transformend",{originalEvent:n,position:w.center,scale:n.scale,rotation:n.rotation}):C.tap(m),L=x,l()}}function u(t,e){if(!e&&window.event&&window.event.toElement&&(e=window.event.toElement),t===e)return!0;if(e)for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}function d(t){return"[object Function]"==Object.prototype.toString.call(t)}var f=this,v={prevent_default:!1,css_hacks:!0,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_double_distance:20,hold:!0,hold_timeout:500};e=function(t,e){var n={};if(!e)return t;for(var o in t)n[o]=o in e?e[o]:t[o];return n}(v,e),function(){if(!e.css_hacks)return!1;for(var n=["webkit","moz","ms","o",""],o={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},r="",a=0;a<n.length;a++)for(var i in o)r=i,n[a]&&(r=n[a]+r.substring(0,1).toUpperCase()+r.substring(1)),t.style[r]=o[i]}();var m,h,p,g=0,_=0,b=0,w={},E=0,y=!1,x=null,L=null,T=null,M={x:0,y:0},D=null,k=null,X={},Y=!1;this.getDirectionFromAngle=function(t){var e,n,o={down:t>=45&&t<135,left:t>=135||t<=-135,up:t<-45&&t>-135,right:t>=-45&&t<=45};for(n in o)if(o[n]){e=n;break}return e};var C={hold:function(t){e.hold&&(x="hold",clearTimeout(k),k=setTimeout(function(){"hold"==x&&i("hold",{originalEvent:t,position:w.start})},e.hold_timeout))},drag:function(t){var n=w.move[0].x-w.start[0].x,o=w.move[0].y-w.start[0].y;if(g=Math.sqrt(n*n+o*o),e.drag&&g>e.drag_min_distance||"drag"==x){_=a(w.start[0],w.move[0]),b=f.getDirectionFromAngle(_);var r="up"==b||"down"==b;if((r&&!e.drag_vertical||!r&&!e.drag_horizontal)&&g>e.drag_min_distance)return;x="drag";var l={x:w.move[0].x-X.left,y:w.move[0].y-X.top},c={originalEvent:t,position:l,direction:b,distance:g,distanceX:n,distanceY:o,angle:_};y&&(i("dragstart",c),y=!1),i("drag",c),s(t)}},transform:function(t){if(e.transform){var n=t.scale||1,r=t.rotation||0;if(2!=o(t))return!1;if("drag"!=x&&("transform"==x||Math.abs(1-n)>e.scale_treshold||Math.abs(r)>e.rotation_treshold)){x="transform",w.center={x:(w.move[0].x+w.move[1].x)/2-X.left,y:(w.move[0].y+w.move[1].y)/2-X.top};var a={originalEvent:t,position:w.center,scale:n,rotation:r};return y&&(i("transformstart",a),y=!1),i("transform",a),s(t),!0}}return!1},tap:function(t){var n=(new Date).getTime(),o=n-T;if(!e.hold||e.hold&&e.hold_timeout>o){(function(){if(M&&e.tap_double&&"tap"==L&&T-D<e.tap_max_interval){var t=Math.abs(M[0].x-w.start[0].x),n=Math.abs(M[0].y-w.start[0].y);return M&&w.start&&Math.max(t,n)<e.tap_double_distance}return!1})()?(x="double_tap",D=null,i("doubletap",{originalEvent:t,position:w.start}),s(t)):(x="tap",D=n,M=w.start,e.tap&&(i("tap",{originalEvent:t,position:w.start}),s(t)))}}};"ontouchstart"in window?(t.addEventListener("touchstart",c,!1),t.addEventListener("touchmove",c,!1),t.addEventListener("touchend",c,!1),t.addEventListener("touchcancel",c,!1)):t.addEventListener?(t.addEventListener("mouseout",function(e){u(t,e.relatedTarget)||c(e)},!1),t.addEventListener("mouseup",c,!1),t.addEventListener("mousedown",c,!1),t.addEventListener("mousemove",c,!1)):document.attachEvent&&(t.attachEvent("onmouseout",function(e){u(t,e.relatedTarget)||c(e)},!1),t.attachEvent("onmouseup",c),t.attachEvent("onmousedown",c),t.attachEvent("onmousemove",c))}